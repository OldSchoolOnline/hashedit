(function(){var e,t,n,i,r,s,o,a,l=[].slice,d={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var i in t)d.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,i,r,s;if(i=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[i])for(r=0,s=n.length;s>r;r++)t=n[r],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,i,r,s,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(i=this._callbacks[e],!i)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(r=s=0,o=i.length;o>s;r=++s)if(n=i[r],n===t){i.splice(r,1);break}return this},e}(),e=function(e){function n(e,t){var r,s,o;if(this.element=e,this.version=n.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(n.instances.push(this),this.element.dropzone=this,r=null!=(o=n.optionsForElement(this.element))?o:{},this.options=i({},this.defaultOptions,r,null!=t?t:{}),this.options.forceFallback||!n.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?n.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:n.getElements(this.options.clickable,"clickable")),this.init()}var i,r;return u(n,e),n.prototype.Emitter=t,n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],n.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return o},forceFallback:!1,fallback:function(){var e,t,i,r,s,o;for(this.element.className=""+this.element.className+" dz-browser-not-supported",o=this.element.getElementsByTagName("div"),r=0,s=o.length;s>r;r++)e=o[r],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),i=t.getElementsByTagName("span")[0],i&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),i=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:o,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:o,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,r,s,o,a,l,d,u,h,c,p,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=n.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),h=e.previewElement.querySelectorAll("[data-dz-name]"),s=0,l=h.length;l>s;s++)t=h[s],t.textContent=e.name;for(c=e.previewElement.querySelectorAll("[data-dz-size]"),o=0,d=c.length;d>o;o++)t=c[o],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),i=function(t){return function(i){return i.preventDefault(),i.stopPropagation(),e.status===n.UPLOADING?n.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?n.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),p=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,u=p.length;u>a;a++)r=p[a],f.push(r.addEventListener("click",i));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,i,r,s;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),s=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,r=s.length;r>i;i++)n=s[i],n.alt=e.name,n.src=t;return setTimeout(function(){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var n,i,r,s,o;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),s=e.previewElement.querySelectorAll("[data-dz-errormessage]"),o=[],i=0,r=s.length;r>i;i++)n=s[i],o.push(n.textContent=t);return o}},errormultiple:o,processing:function(e){return e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink)?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:o,uploadprogress:function(e,t){var n,i,r,s,o;if(e.previewElement){for(s=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),o=[],i=0,r=s.length;r>i;i++)n=s[i],o.push("PROGRESS"===n.nodeName?n.value=t:n.style.width=""+t+"%");return o}},totaluploadprogress:o,sending:o,sendingmultiple:o,success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},successmultiple:o,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:o,complete:function(e){return e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement?e.previewElement.classList.add("dz-complete"):void 0},completemultiple:o,maxfilesexceeded:o,maxfilesreached:o,queuecomplete:o,addedfiles:o,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},i=function(){var e,t,n,i,r,s,o;for(i=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],s=0,o=n.length;o>s;s++){t=n[s];for(e in t)r=t[e],i[e]=r}return i},n.prototype.getAcceptedFiles=function(){var e,t,n,i,r;for(i=this.files,r=[],t=0,n=i.length;n>t;t++)e=i[t],e.accepted&&r.push(e);return r},n.prototype.getRejectedFiles=function(){var e,t,n,i,r;for(i=this.files,r=[],t=0,n=i.length;n>t;t++)e=i[t],e.accepted||r.push(e);return r},n.prototype.getFilesWithStatus=function(e){var t,n,i,r,s;for(r=this.files,s=[],n=0,i=r.length;i>n;n++)t=r[n],t.status===e&&s.push(t);return s},n.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(n.QUEUED)},n.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(n.UPLOADING)},n.prototype.getAddedFiles=function(){return this.getFilesWithStatus(n.ADDED)},n.prototype.getActiveFiles=function(){var e,t,i,r,s;for(r=this.files,s=[],t=0,i=r.length;i>t;t++)e=r[t],(e.status===n.UPLOADING||e.status===n.QUEUED)&&s.push(e);return s},n.prototype.init=function(){var e,t,i,r,s,o,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(e){return function(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,n,r,s;if(n=e.hiddenFileInput.files,n.length)for(r=0,s=n.length;s>r;r++)t=n[r],e.addFile(t);return e.emit("addedfiles",n),i()})}}(this))(),this.URL=null!=(o=window.URL)?o:window.webkitURL,a=this.events,r=0,s=a.length;s>r;r++)e=a[r],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(){return 0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(n){return t(n),e.emit("dragenter",n)}}(this),dragover:function(e){return function(n){var i;try{i=n.dataTransfer.effectAllowed}catch(r){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",t(n),e.emit("dragover",n)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(n){return t(n),e.drop(n)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(i){return(t!==e.element||i.target===e.element||n.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},n.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)},n.prototype.updateTotalUploadProgress=function(){var e,t,n,i,r,s,o,a;if(i=0,n=0,e=this.getActiveFiles(),e.length){for(a=this.getActiveFiles(),s=0,o=a.length;o>s;s++)t=a[s],i+=t.upload.bytesSent,n+=t.upload.total;r=100*i/n}else r=100;return this.emit("totaluploadprogress",r,n,i)},n.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},n.prototype.getFallbackForm=function(){var e,t,i,r;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=n.createElement(i),"FORM"!==this.element.tagName?(r=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:t)},n.prototype.getExistingFallback=function(){var e,t,n,i,r,s;for(t=function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},s=["div","form"],i=0,r=s.length;r>i;i++)if(n=s[i],e=t(this.element.getElementsByTagName(n)))return e},n.prototype.setupEventListeners=function(){var e,t,n,i,r,s,o;for(s=this.listeners,o=[],i=0,r=s.length;r>i;i++)e=s[i],o.push(function(){var i,r;i=e.events,r=[];for(t in i)n=i[t],r.push(e.element.addEventListener(t,n,!1));return r}());return o},n.prototype.removeEventListeners=function(){var e,t,n,i,r,s,o;for(s=this.listeners,o=[],i=0,r=s.length;r>i;i++)e=s[i],o.push(function(){var i,r;i=e.events,r=[];for(t in i)n=i[t],r.push(e.element.removeEventListener(t,n,!1));return r}());return o},n.prototype.disable=function(){var e,t,n,i,r;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(this.cancelUpload(e));return r},n.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},n.prototype.filesize=function(e){var t,n,i,r,s,o,a,l;if(i=0,r="b",e>0){for(o=["TB","GB","MB","KB","b"],n=a=0,l=o.length;l>a;n=++a)if(s=o[n],t=Math.pow(this.options.filesizeBase,4-n)/10,e>=t){i=e/Math.pow(this.options.filesizeBase,4-n),r=s;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+r},n.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},n.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&(n=e.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},n.prototype.paste=function(e){var t,n;return null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0)?(this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0):void 0},n.prototype.handleFiles=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(this.addFile(t));return r},n.prototype._addFilesFromItems=function(e){var t,n,i,r,s;for(s=[],i=0,r=e.length;r>i;i++)n=e[i],s.push(null!=n.webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?this.addFile(n.getAsFile()):t.isDirectory?this._addFilesFromDirectory(t,t.name):void 0:null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?this.addFile(n.getAsFile()):void 0);return s},n.prototype._addFilesFromDirectory=function(e,t){var n,i;return n=e.createReader(),i=function(e){return function(n){var i,r,s;for(r=0,s=n.length;s>r;r++)i=n[r],i.isFile?i.file(function(n){return e.options.ignoreHiddenFiles&&"."===n.name.substring(0,1)?void 0:(n.fullPath=""+t+"/"+n.name,e.addFile(n))}):i.isDirectory&&e._addFilesFromDirectory(i,""+t+"/"+i.name)}}(this),n.readEntries(i,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},n.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},n.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=n.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},n.prototype.enqueueFiles=function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)t=e[n],this.enqueueFile(t);return null},n.prototype.enqueueFile=function(e){if(e.status!==n.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=n.QUEUED,this.options.autoProcessQueue?setTimeout(function(e){return function(){return e.processQueue()}}(this),0):void 0},n.prototype._thumbnailQueue=[],n.prototype._processingThumbnail=!1,n.prototype._enqueueThumbnail=function(e){return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)):void 0},n.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this)))},n.prototype.removeFile=function(e){return e.status===n.UPLOADING&&this.cancelUpload(e),this.files=a(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},n.prototype.removeAllFiles=function(e){var t,i,r,s;for(null==e&&(e=!1),s=this.files.slice(),i=0,r=s.length;r>i;i++)t=s[i],(t.status!==n.UPLOADING||e)&&this.removeFile(t);return null},n.prototype.createThumbnail=function(e,t){var n;return n=new FileReader,n.onload=function(i){return function(){return"image/svg+xml"===e.type?(i.emit("thumbnail",e,n.result),void(null!=t&&t())):i.createThumbnailFromUrl(e,n.result,t)}}(this),n.readAsDataURL(e)},n.prototype.createThumbnailFromUrl=function(e,t,n,i){var r;return r=document.createElement("img"),i&&(r.crossOrigin=i),r.onload=function(t){return function(){var i,o,a,l,d,u,h,c;return e.width=r.width,e.height=r.height,a=t.options.resize.call(t,e),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),i=document.createElement("canvas"),o=i.getContext("2d"),i.width=a.trgWidth,i.height=a.trgHeight,s(o,r,null!=(d=a.srcX)?d:0,null!=(u=a.srcY)?u:0,a.srcWidth,a.srcHeight,null!=(h=a.trgX)?h:0,null!=(c=a.trgY)?c:0,a.trgWidth,a.trgHeight),l=i.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=n?n():void 0}}(this),null!=n&&(r.onerror=n),r.src=t},n.prototype.processQueue=function(){var e,t,n,i;if(t=this.options.parallelUploads,n=this.getUploadingFiles().length,e=n,!(n>=t)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));for(;t>e;){if(!i.length)return;this.processFile(i.shift()),e++}}},n.prototype.processFile=function(e){return this.processFiles([e])},n.prototype.processFiles=function(e){var t,i,r;for(i=0,r=e.length;r>i;i++)t=e[i],t.processing=!0,t.status=n.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},n.prototype._getFilesWithXhr=function(e){var t,n;return n=function(){var n,i,r,s;for(r=this.files,s=[],n=0,i=r.length;i>n;n++)t=r[n],t.xhr===e&&s.push(t);return s}.call(this)},n.prototype.cancelUpload=function(e){var t,i,r,s,o,a,l;if(e.status===n.UPLOADING){for(i=this._getFilesWithXhr(e.xhr),r=0,o=i.length;o>r;r++)t=i[r],t.status=n.CANCELED;for(e.xhr.abort(),s=0,a=i.length;a>s;s++)t=i[s],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else((l=e.status)===n.ADDED||l===n.QUEUED)&&(e.status=n.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},r=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},n.prototype.uploadFile=function(e){return this.uploadFiles([e])},n.prototype.uploadFiles=function(e){var t,s,o,a,l,d,u,h,c,p,f,m,g,v,y,b,w,_,E,S,D,M,T,A,k,C,x,L,F,Y,H,z,O,U;for(E=new XMLHttpRequest,S=0,A=e.length;A>S;S++)t=e[S],t.xhr=E;m=r(this.options.method,e),w=r(this.options.url,e),E.open(m,w,!0),E.withCredentials=!!this.options.withCredentials,y=null,o=function(n){return function(){var i,r,s;for(s=[],i=0,r=e.length;r>i;i++)t=e[i],s.push(n._errorProcessing(e,y||n.options.dictResponseError.replace("{{statusCode}}",E.status),E));return s}}(this),b=function(n){return function(i){var r,s,o,a,l,d,u,h,c;if(null!=i)for(s=100*i.loaded/i.total,o=0,d=e.length;d>o;o++)t=e[o],t.upload={progress:s,total:i.total,bytesSent:i.loaded};else{for(r=!0,s=100,a=0,u=e.length;u>a;a++)t=e[a],(100!==t.upload.progress||t.upload.bytesSent!==t.upload.total)&&(r=!1),t.upload.progress=s,t.upload.bytesSent=t.upload.total;if(r)return}for(c=[],l=0,h=e.length;h>l;l++)t=e[l],c.push(n.emit("uploadprogress",t,s,t.upload.bytesSent));return c}}(this),E.onload=function(t){return function(i){var r;if(e[0].status!==n.CANCELED&&4===E.readyState){if(y=E.responseText,E.getResponseHeader("content-type")&&~E.getResponseHeader("content-type").indexOf("application/json"))try{y=JSON.parse(y)}catch(s){i=s,y="Invalid JSON response from server."}return b(),200<=(r=E.status)&&300>r?t._finished(e,y,i):o()}}}(this),E.onerror=function(){return function(){return e[0].status!==n.CANCELED?o():void 0}}(this),v=null!=(F=E.upload)?F:E,v.onprogress=b,d={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(d,this.options.headers);for(a in d)l=d[a],l&&E.setRequestHeader(a,l);if(s=new FormData,this.options.params){Y=this.options.params;for(f in Y)_=Y[f],s.append(f,_)}for(D=0,k=e.length;k>D;D++)t=e[D],this.emit("sending",t,E,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,E,s),"FORM"===this.element.tagName)for(H=this.element.querySelectorAll("input, textarea, select, button"),M=0,C=H.length;C>M;M++)if(h=H[M],c=h.getAttribute("name"),p=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(z=h.options,T=0,x=z.length;x>T;T++)g=z[T],g.selected&&s.append(c,g.value);else(!p||"checkbox"!==(O=p.toLowerCase())&&"radio"!==O||h.checked)&&s.append(c,h.value);for(u=L=0,U=e.length-1;U>=0?U>=L:L>=U;u=U>=0?++L:--L)s.append(this._getParamName(u),e[u],e[u].name);return this.submitRequest(E,s,e)},n.prototype.submitRequest=function(e,t){return e.send(t)},n.prototype._finished=function(e,t,i){var r,s,o;for(s=0,o=e.length;o>s;s++)r=e[s],r.status=n.SUCCESS,this.emit("success",r,t,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},n.prototype._errorProcessing=function(e,t,i){var r,s,o;for(s=0,o=e.length;o>s;s++)r=e[s],r.status=n.ERROR,this.emit("error",r,t,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},n}(t),e.version="4.2.0",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[n(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,n,i,r,s,o;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],t=function(e){var t,n,r,s;for(s=[],n=0,r=e.length;r>n;n++)t=e[n],s.push(/(^| )dropzone($| )/.test(t.className)?i.push(t):void 0);return s},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),o=[],r=0,s=i.length;s>r;r++)n=i[r],o.push(e.optionsForElement(n)!==!1?new e(n):void 0);return o},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,n,i,r,s;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(s=e.blacklistedBrowsers,i=0,r=s.length;r>i;i++)n=s[i],n.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},a=function(e,t){var n,i,r,s;for(s=[],i=0,r=e.length;r>i;i++)n=e[i],n!==t&&s.push(n);return s},n=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},e.getElements=function(e,t){var n,i,r,s,o,a,l,d;if(e instanceof Array){r=[];try{for(s=0,a=e.length;a>s;s++)i=e[s],r.push(this.getElement(i,t))}catch(u){n=u,r=null}}else if("string"==typeof e)for(r=[],d=document.querySelectorAll(e),o=0,l=d.length;l>o;o++)i=d[o],r.push(i);else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},e.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},e.isValidFile=function(e,t){var n,i,r,s,o;if(!t)return!0;for(t=t.split(","),i=e.type,n=i.replace(/\/.*$/,""),s=0,o=t.length;o>s;s++)if(r=t[s],r=r.trim(),"."===r.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,
e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",r=function(e){var t,n,i,r,s,o,a,l,d,u;for(a=e.naturalWidth,o=e.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=o,i=n.getContext("2d"),i.drawImage(e,0,0),r=i.getImageData(0,0,1,o).data,u=0,s=o,l=o;l>u;)t=r[4*(l-1)+3],0===t?s=l:u=l,l=s+u>>1;return d=l/o,0===d?1:d},s=function(e,t,n,i,s,o,a,l,d,u){var h;return h=r(t),e.drawImage(t,n,i,s,o,a,l,d,u/h)},i=function(e,t){var n,i,r,s,o,a,l,d,u;if(r=!1,u=!0,i=e.document,d=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",s=function(n){return"readystatechange"!==n.type||"complete"===i.readyState?(("load"===n.type?e:i)[l](a+n.type,s,!1),!r&&(r=!0)?t.call(e,n.type||n):void 0):void 0},o=function(){var e;try{d.doScroll("left")}catch(t){return e=t,void setTimeout(o,50)}return s("poll")},"complete"!==i.readyState){if(i.createEventObject&&d.doScroll){try{u=!e.frameElement}catch(h){}u&&o()}return i[n](a+"DOMContentLoaded",s,!1),i[n](a+"readystatechange",s,!1),e[n](a+"load",s,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0},i(window,e._autoDiscoverFunction)}).call(this),!function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=e():"undefined"!=typeof Package?Sortable=e():window.Sortable=e()}(function(){"use strict";function e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=v({},t),e[U]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var i in n)!(i in t)&&(t[i]=n[i]);V(t);for(var s in this)"_"===s.charAt(0)&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:q,r(e,"mousedown",this._onTapStart),r(e,"touchstart",this._onTapStart),this.nativeDraggable&&(r(e,"dragover",this),r(e,"dragenter",this)),G.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function t(e){_&&_.state!==e&&(a(_,"display",e?"none":""),!e&&_.state&&E.insertBefore(_,y),_.state=e)}function n(e,t,n){if(e){n=n||N,t=t.split(".");var i=t.shift().toUpperCase(),r=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");do if(">*"===i&&e.parentNode===n||(""===i||e.nodeName.toUpperCase()==i)&&(!t.length||((" "+e.className+" ").match(r)||[]).length==t.length))return e;while(e!==n&&(e=e.parentNode))}return null}function i(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function r(e,t,n){e.addEventListener(t,n,!1)}function s(e,t,n){e.removeEventListener(t,n,!1)}function o(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(O," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(O," ")}}function a(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return N.defaultView&&N.defaultView.getComputedStyle?n=N.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function l(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,s=i.length;if(n)for(;s>r;r++)n(i[r],r);return i}return[]}function d(e,t,n,i,r,s,o){var a=N.createEvent("Event"),l=(e||t[U]).options,d="on"+n.charAt(0).toUpperCase()+n.substr(1);a.initEvent(n,!0,!0),a.to=t,a.from=r||t,a.item=i||t,a.clone=_,a.oldIndex=s,a.newIndex=o,t.dispatchEvent(a),l[d]&&l[d].call(e,a)}function u(e,t,n,i,r,s){var o,a,l=e[U],d=l.options.onMove;return o=N.createEvent("Event"),o.initEvent("move",!0,!0),o.to=t,o.from=e,o.dragged=n,o.draggedRect=i,o.related=r||t,o.relatedRect=s||t.getBoundingClientRect(),e.dispatchEvent(o),d&&(a=d.call(l,o)),a}function h(e){e.draggable=!1}function c(){R=!1}function p(e,t){var n=e.lastElementChild,i=n.getBoundingClientRect();return(t.clientY-(i.top+i.height)>5||t.clientX-(i.right+i.width)>5)&&n}function f(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function m(e){var t=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&t++;return t}function g(e,t){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),n=void 0},t))}}function v(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var y,b,w,_,E,S,D,M,T,A,k,C,x,L,F,Y,H,z={},O=/\s+/g,U="Sortable"+(new Date).getTime(),I=window,N=I.document,B=I.parseInt,q=!!("draggable"in N.createElement("div")),P=function(e){return e=N.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),R=!1,W=Math.abs,G=([].slice,[]),j=g(function(e,t,n){if(n&&t.scroll){var i,r,s,o,a=t.scrollSensitivity,l=t.scrollSpeed,d=e.clientX,u=e.clientY,h=window.innerWidth,c=window.innerHeight;if(M!==n&&(D=t.scroll,M=n,D===!0)){D=n;do if(D.offsetWidth<D.scrollWidth||D.offsetHeight<D.scrollHeight)break;while(D=D.parentNode)}D&&(i=D,r=D.getBoundingClientRect(),s=(W(r.right-d)<=a)-(W(r.left-d)<=a),o=(W(r.bottom-u)<=a)-(W(r.top-u)<=a)),s||o||(s=(a>=h-d)-(a>=d),o=(a>=c-u)-(a>=u),(s||o)&&(i=I)),(z.vx!==s||z.vy!==o||z.el!==i)&&(z.el=i,z.vx=s,z.vy=o,clearInterval(z.pid),i&&(z.pid=setInterval(function(){i===I?I.scrollTo(I.pageXOffset+s*l,I.pageYOffset+o*l):(o&&(i.scrollTop+=o*l),s&&(i.scrollLeft+=s*l))},24)))}},30),V=function(e){var t=e.group;t&&"object"==typeof t||(t=e.group={name:t}),["pull","put"].forEach(function(e){e in t||(t[e]=!0)}),e.groups=" "+t.name+(t.put.join?" "+t.put.join(" "):"")+" "};return e.prototype={constructor:e,_onTapStart:function(e){var t=this,i=this.el,r=this.options,s=e.type,o=e.touches&&e.touches[0],a=(o||e).target,l=a,u=r.filter;if(!("mousedown"===s&&0!==e.button||r.disabled)&&(a=n(a,r.draggable,i))){if(C=m(a),"function"==typeof u){if(u.call(this,e,a,this))return d(t,l,"filter",a,i,C),void e.preventDefault()}else if(u&&(u=u.split(",").some(function(e){return e=n(l,e.trim(),i),e?(d(t,e,"filter",a,i,C),!0):void 0})))return void e.preventDefault();(!r.handle||n(l,r.handle,i))&&this._prepareDragStart(e,o,a)}},_prepareDragStart:function(e,t,n){var i,s=this,a=s.el,d=s.options,u=a.ownerDocument;n&&!y&&n.parentNode===a&&(F=e,E=a,y=n,b=y.parentNode,S=y.nextSibling,L=d.group,i=function(){s._disableDelayedDrag(),y.draggable=!0,o(y,s.options.chosenClass,!0),s._triggerDragStart(t)},d.ignore.split(",").forEach(function(e){l(y,e.trim(),h)}),r(u,"mouseup",s._onDrop),r(u,"touchend",s._onDrop),r(u,"touchcancel",s._onDrop),d.delay?(r(u,"mouseup",s._disableDelayedDrag),r(u,"touchend",s._disableDelayedDrag),r(u,"touchcancel",s._disableDelayedDrag),r(u,"mousemove",s._disableDelayedDrag),r(u,"touchmove",s._disableDelayedDrag),s._dragStartTimer=setTimeout(i,d.delay)):i())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),s(e,"mouseup",this._disableDelayedDrag),s(e,"touchend",this._disableDelayedDrag),s(e,"touchcancel",this._disableDelayedDrag),s(e,"mousemove",this._disableDelayedDrag),s(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(e){e?(F={target:y,clientX:e.clientX,clientY:e.clientY},this._onDragStart(F,"touch")):this.nativeDraggable?(r(y,"dragend",this),r(E,"dragstart",this._onDragStart)):this._onDragStart(F,!0);try{N.selection?N.selection.empty():window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){E&&y&&(o(y,this.options.ghostClass,!0),e.active=this,d(this,E,"start",y,E,C))},_emulateDragOver:function(){if(Y){if(this._lastX===Y.clientX&&this._lastY===Y.clientY)return;this._lastX=Y.clientX,this._lastY=Y.clientY,P||a(w,"display","none");var e=N.elementFromPoint(Y.clientX,Y.clientY),t=e,n=" "+this.options.group.name,i=G.length;if(t)do{if(t[U]&&t[U].options.groups.indexOf(n)>-1){for(;i--;)G[i]({clientX:Y.clientX,clientY:Y.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);P||a(w,"display","")}},_onTouchMove:function(t){if(F){e.active||this._dragStarted(),this._appendGhost();var n=t.touches?t.touches[0]:t,i=n.clientX-F.clientX,r=n.clientY-F.clientY,s=t.touches?"translate3d("+i+"px,"+r+"px,0)":"translate("+i+"px,"+r+"px)";H=!0,Y=n,a(w,"webkitTransform",s),a(w,"mozTransform",s),a(w,"msTransform",s),a(w,"transform",s),t.preventDefault()}},_appendGhost:function(){if(!w){var e,t=y.getBoundingClientRect(),n=a(y),i=this.options;w=y.cloneNode(!0),o(w,i.ghostClass,!1),o(w,i.fallbackClass,!0),a(w,"top",t.top-B(n.marginTop,10)),a(w,"left",t.left-B(n.marginLeft,10)),a(w,"width",t.width),a(w,"height",t.height),a(w,"opacity","0.8"),a(w,"position","fixed"),a(w,"zIndex","100000"),a(w,"pointerEvents","none"),i.fallbackOnBody&&N.body.appendChild(w)||E.appendChild(w),e=w.getBoundingClientRect(),a(w,"width",2*t.width-e.width),a(w,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,i=this.options;this._offUpEvents(),"clone"==L.pull&&(_=y.cloneNode(!0),a(_,"display","none"),E.insertBefore(_,y)),t?("touch"===t?(r(N,"touchmove",this._onTouchMove),r(N,"touchend",this._onDrop),r(N,"touchcancel",this._onDrop)):(r(N,"mousemove",this._onTouchMove),r(N,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,y)),r(N,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(e){var i,r,s,o=this.el,l=this.options,d=l.group,h=d.put,f=L===d,m=l.sort;if(void 0!==e.preventDefault&&(e.preventDefault(),!l.dragoverBubble&&e.stopPropagation()),H=!0,L&&!l.disabled&&(f?m||(s=!E.contains(y)):L.pull&&h&&(L.name===d.name||h.indexOf&&~h.indexOf(L.name)))&&(void 0===e.rootEl||e.rootEl===this.el)){if(j(e,l,this.el),R)return;if(i=n(e.target,l.draggable,o),r=y.getBoundingClientRect(),s)return t(!0),void(_||S?E.insertBefore(y,_||S):m||E.appendChild(y));if(0===o.children.length||o.children[0]===w||o===e.target&&(i=p(o,e))){if(i){if(i.animated)return;v=i.getBoundingClientRect()}t(f),u(E,o,y,r,i,v)!==!1&&(y.contains(o)||(o.appendChild(y),b=o),this._animate(r,y),i&&this._animate(v,i))}else if(i&&!i.animated&&i!==y&&void 0!==i.parentNode[U]){T!==i&&(T=i,A=a(i),k=a(i.parentNode));var g,v=i.getBoundingClientRect(),D=v.right-v.left,M=v.bottom-v.top,C=/left|right|inline/.test(A.cssFloat+A.display)||"flex"==k.display&&0===k["flex-direction"].indexOf("row"),x=i.offsetWidth>y.offsetWidth,F=i.offsetHeight>y.offsetHeight,Y=(C?(e.clientX-v.left)/D:(e.clientY-v.top)/M)>.5,z=i.nextElementSibling,O=u(E,o,y,r,i,v);if(O!==!1){if(R=!0,setTimeout(c,30),t(f),1===O||-1===O)g=1===O;else if(C){var I=y.offsetTop,N=i.offsetTop;g=I===N?i.previousElementSibling===y&&!x||Y&&x:N>I}else g=z!==y&&!F||Y&&F;y.contains(o)||(g&&!z?o.appendChild(y):i.parentNode.insertBefore(y,g?z:i)),b=y.parentNode,this._animate(r,y),this._animate(v,i)}}}},_animate:function(e,t){var n=this.options.animation;if(n){var i=t.getBoundingClientRect();a(t,"transition","none"),a(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,a(t,"transition","all "+n+"ms"),a(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){a(t,"transition",""),a(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;s(N,"touchmove",this._onTouchMove),s(e,"mouseup",this._onDrop),s(e,"touchend",this._onDrop),s(e,"touchcancel",this._onDrop)},_onDrop:function(t){var n=this.el,i=this.options;clearInterval(this._loopId),clearInterval(z.pid),clearTimeout(this._dragStartTimer),s(N,"mousemove",this._onTouchMove),this.nativeDraggable&&(s(N,"drop",this),s(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(H&&(t.preventDefault(),!i.dropBubble&&t.stopPropagation()),w&&w.parentNode.removeChild(w),y&&(this.nativeDraggable&&s(y,"dragend",this),h(y),o(y,this.options.ghostClass,!1),o(y,this.options.chosenClass,!1),E!==b?(x=m(y),x>=0&&(d(null,b,"sort",y,E,C,x),d(this,E,"sort",y,E,C,x),d(null,b,"add",y,E,C,x),d(this,E,"remove",y,E,C,x))):(_&&_.parentNode.removeChild(_),y.nextSibling!==S&&(x=m(y),x>=0&&(d(this,E,"update",y,E,C,x),d(this,E,"sort",y,E,C,x)))),e.active&&((null===x||-1===x)&&(x=C),d(this,E,"end",y,E,C,x),this.save())),E=y=b=w=S=_=D=M=F=Y=H=x=T=A=L=e.active=null)},handleEvent:function(e){var t=e.type;"dragover"===t||"dragenter"===t?y&&(this._onDragOver(e),i(e)):("drop"===t||"dragend"===t)&&this._onDrop(e)},toArray:function(){for(var e,t=[],i=this.el.children,r=0,s=i.length,o=this.options;s>r;r++)e=i[r],n(e,o.draggable,this.el)&&t.push(e.getAttribute(o.dataIdAttr)||f(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,r){var s=i.children[r];n(s,this.options.draggable,i)&&(t[e]=s)},this),e.forEach(function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;return void 0===t?n[e]:(n[e]=t,void("group"===e&&V(n)))},destroy:function(){var e=this.el;e[U]=null,s(e,"mousedown",this._onTapStart),s(e,"touchstart",this._onTapStart),this.nativeDraggable&&(s(e,"dragover",this),s(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),G.splice(G.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},e.utils={on:r,off:s,css:a,find:l,is:function(e,t){return!!n(e,t,e)},extend:v,throttle:g,closest:n,toggleClass:o,index:m},e.create=function(t,n){return new e(t,n)},e.version="1.4.2",e}),function(){"use strict";function e(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function r(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),r(t)}function o(e){var t=new FileReader;return t.readAsText(e),r(t)}function a(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(p.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(p.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText=""},p.blob?(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return o(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=i(this);return e?e:Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(u)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return f.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var i=t.body;if(d.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,i||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new n(t.headers)),this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function u(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function h(e){var t=new n,i=e.getAllResponseHeaders().trim().split("\n");return i.forEach(function(e){var n=e.trim().split(":"),i=n.shift().trim(),r=n.join(":").trim();t.append(i,r)}),t}function c(e,t){t||(t={}),this._initBody(e),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof n?t.headers:new n(t.headers),this.url=t.url||""}if(!self.fetch){n.prototype.append=function(n,i){n=e(n),i=t(i);var r=this.map[n];r||(r=[],this.map[n]=r),r.push(i)},n.prototype["delete"]=function(t){delete this.map[e(t)]},n.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},n.prototype.getAll=function(t){return this.map[e(t)]||[]},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(n,i){this.map[e(n)]=[t(i)]},n.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(i){e.call(t,i,n,this)},this)},this)};var p={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self},f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this)},a.call(d.prototype),a.call(c.prototype),c.prototype.clone=function(){return new c(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},c.error=function(){var e=new c(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];c.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new c(null,{status:t,headers:{location:e}})},self.Headers=n,self.Request=d,self.Response=c,self.fetch=function(e,t){return new Promise(function(n,i){function r(){return"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0}var s;s=d.prototype.isPrototypeOf(e)&&!t?e:new d(e,t);var o=new XMLHttpRequest;o.onload=function(){var e=1223===o.status?204:o.status;if(100>e||e>599)return void i(new TypeError("Network request failed"));var t={status:e,statusText:o.statusText,headers:h(o),url:r()},s="response"in o?o.response:o.responseText;n(new c(s,t))},o.onerror=function(){i(new TypeError("Network request failed"))},o.open(s.method,s.url,!0),"include"===s.credentials&&(o.withCredentials=!0),"responseType"in o&&p.blob&&(o.responseType="blob"),s.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof s._bodyInit?null:s._bodyInit)})},self.fetch.polyfill=!0}}(),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Hn.apply(null,arguments)}function t(e){Hn=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,n,i){return ke(e,t,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(e){return null==e._pf&&(e._pf=l()),e._pf}function u(e){if(null==e._isValid){var t=d(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function h(e){var t=a(NaN);return null!=e?o(d(t),e):d(t).userInvalidated=!0,t}function c(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=d(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),On.length>0)for(n in On)i=On[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function p(t){c(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Un===!1&&(Un=!0,e.updateOffset(this),Un=!1)}function f(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function v(e,t,n){var i,r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&o++;return o+s}function y(){}function b(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){for(var t,n,i,r,s=0;s<e.length;){for(r=b(e[s]).split("-"),t=r.length,n=b(e[s+1]),n=n?n.split("-"):null;t>0;){if(i=_(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&v(r,n,!0)>=t-1)break;t--}s++}return null}function _(e){var t=null;if(!In[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=zn._abbr,require("./locale/"+e),E(t)}catch(n){}return In[e]}function E(e,t){var n;return e&&(n="undefined"==typeof t?D(e):S(e,t),n&&(zn=n)),zn._abbr}function S(e,t){return null!==t?(t.abbr=e,In[e]=In[e]||new y,In[e].set(t),E(e),In[e]):(delete In[e],null)}function D(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return zn;if(!n(e)){if(t=_(e))return t;e=[e]}return w(e)}function M(e,t){var n=e.toLowerCase();Nn[n]=Nn[n+"s"]=Nn[t]=e}function T(e){return"string"==typeof e?Nn[e]||Nn[e.toLowerCase()]:void 0}function A(e){var t,n,i={};for(n in e)s(e,n)&&(t=T(n),t&&(i[t]=e[n]));return i}function k(t,n){return function(i){return null!=i?(x(this,t,i),e.updateOffset(this,n),this):C(this,t)}}function C(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function x(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function L(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=T(e),"function"==typeof this[e])return this[e](t);return this}function F(e,t,n){var i=""+Math.abs(e),r=t-i.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function Y(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Rn[e]=r),t&&(Rn[t[0]]=function(){return F(r.apply(this,arguments),t[1],t[2])}),n&&(Rn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,i=e.match(Bn);for(t=0,n=i.length;n>t;t++)Rn[i[t]]?i[t]=Rn[i[t]]:i[t]=H(i[t]);return function(r){var s="";for(t=0;n>t;t++)s+=i[t]instanceof Function?i[t].call(r,e):i[t];return s}}function O(e,t){return e.isValid()?(t=U(t,e.localeData()),Pn[t]=Pn[t]||z(t),Pn[t](e)):e.localeData().invalidDate()}function U(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(qn.lastIndex=0;i>=0&&qn.test(e);)e=e.replace(qn,n),qn.lastIndex=0,i-=1;return e}function I(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function N(e,t,n){ri[e]=I(t)?t:function(e){return e&&n?n:t}}function B(e,t){return s(ri,e)?ri[e](t._strict,t._locale):new RegExp(q(e))}function q(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function P(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)si[e[n]]=i}function R(e,t){P(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function W(e,t,n){null!=t&&s(si,e)&&si[e](t,n._a,n,e)}function G(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function j(e){return this._months[e.month()]}function V(e){return this._monthsShort[e.month()]}function Q(e,t,n){var i,r,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function X(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),G(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function Z(t){return null!=t?(X(this,t),e.updateOffset(this,!0),this):C(this,"Month")}function $(){return G(this.year(),this.month())}function J(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[ai]<0||n[ai]>11?ai:n[li]<1||n[li]>G(n[oi],n[ai])?li:n[di]<0||n[di]>24||24===n[di]&&(0!==n[ui]||0!==n[hi]||0!==n[ci])?di:n[ui]<0||n[ui]>59?ui:n[hi]<0||n[hi]>59?hi:n[ci]<0||n[ci]>999?ci:-1,d(e)._overflowDayOfYear&&(oi>t||t>li)&&(t=li),d(e).overflow=t),e}function K(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function ee(e,t){var n=!0;return o(function(){return n&&(K(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function te(e,t){mi[e]||(K(t),mi[e]=!0)}function ne(e){var t,n,i=e._i,r=gi.exec(i);if(r){for(d(e).iso=!0,t=0,n=vi.length;n>t;t++)if(vi[t][1].exec(i)){e._f=vi[t][0];break}for(t=0,n=yi.length;n>t;t++)if(yi[t][1].exec(i)){e._f+=(r[6]||" ")+yi[t][0];break}i.match(ti)&&(e._f+="Z"),_e(e)}else e._isValid=!1}function ie(t){var n=bi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(ne(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function re(e,t,n,i,r,s,o){var a=new Date(e,t,n,i,r,s,o);return 1970>e&&a.setFullYear(e),a}function se(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function oe(e){return ae(e)?366:365}function ae(e){return e%4===0&&e%100!==0||e%400===0}function le(){return ae(this.year())}function de(e,t,n){var i,r=n-t,s=n-e.day();return s>r&&(s-=7),r-7>s&&(s+=7),i=Ce(e).add(s,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ue(e){return de(e,this._week.dow,this._week.doy).week}function he(){return this._week.dow}function ce(){return this._week.doy}function pe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function fe(e){var t=de(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function me(e,t,n,i,r){var s,o=6+r-i,a=se(e,0,1+o),l=a.getUTCDay();return r>l&&(l+=7),n=null!=n?1*n:r,s=1+o+7*(t-1)-l+n,{year:s>0?e:e-1,dayOfYear:s>0?s:oe(e-1)+s}}function ge(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ve(e,t,n){return null!=e?e:null!=t?t:n}function ye(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function be(e){var t,n,i,r,s=[];if(!e._d){for(i=ye(e),e._w&&null==e._a[li]&&null==e._a[ai]&&we(e),e._dayOfYear&&(r=ve(e._a[oi],i[oi]),e._dayOfYear>oe(r)&&(d(e)._overflowDayOfYear=!0),n=se(r,0,e._dayOfYear),e._a[ai]=n.getUTCMonth(),e._a[li]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;7>t;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[di]&&0===e._a[ui]&&0===e._a[hi]&&0===e._a[ci]&&(e._nextDay=!0,e._a[di]=0),e._d=(e._useUTC?se:re).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[di]=24)}}function we(e){var t,n,i,r,s,o,a;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,o=4,n=ve(t.GG,e._a[oi],de(Ce(),1,4).year),i=ve(t.W,1),r=ve(t.E,1)):(s=e._locale._week.dow,o=e._locale._week.doy,n=ve(t.gg,e._a[oi],de(Ce(),s,o).year),i=ve(t.w,1),null!=t.d?(r=t.d,s>r&&++i):r=null!=t.e?t.e+s:s),a=me(n,i,r,o,s),e._a[oi]=a.year,e._dayOfYear=a.dayOfYear}function _e(t){if(t._f===e.ISO_8601)return void ne(t);t._a=[],d(t).empty=!0;var n,i,r,s,o,a=""+t._i,l=a.length,u=0;for(r=U(t._f,t._locale).match(Bn)||[],n=0;n<r.length;n++)s=r[n],i=(a.match(B(s,t))||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&d(t).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),u+=i.length),Rn[s]?(i?d(t).empty=!1:d(t).unusedTokens.push(s),W(s,i,t)):t._strict&&!i&&d(t).unusedTokens.push(s);d(t).charsLeftOver=l-u,a.length>0&&d(t).unusedInput.push(a),d(t).bigHour===!0&&t._a[di]<=12&&t._a[di]>0&&(d(t).bigHour=void 0),t._a[di]=Ee(t._locale,t._a[di],t._meridiem),be(t),J(t)}function Ee(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function Se(e){var t,n,i,r,s;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)s=0,t=c({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],_e(t),u(t)&&(s+=d(t).charsLeftOver,s+=10*d(t).unusedTokens.length,d(t).score=s,(null==i||i>s)&&(i=s,n=t));o(e,n||t)}function De(e){if(!e._d){var t=A(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],be(e)}}function Me(e){var t=new p(J(Te(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Te(e){var t=e._i,r=e._f;return e._locale=e._locale||D(e._l),null===t||void 0===r&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),f(t)?new p(J(t)):(n(r)?Se(e):r?_e(e):i(t)?e._d=t:Ae(e),e))}function Ae(t){var s=t._i;void 0===s?t._d=new Date:i(s)?t._d=new Date(+s):"string"==typeof s?ie(t):n(s)?(t._a=r(s.slice(0),function(e){return parseInt(e,10)}),be(t)):"object"==typeof s?De(t):"number"==typeof s?t._d=new Date(s):e.createFromInputFallback(t)}function ke(e,t,n,i,r){var s={};return"boolean"==typeof n&&(i=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=i,Me(s)}function Ce(e,t,n,i){return ke(e,t,n,i,!1)}function xe(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ce();for(i=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](i))&&(i=t[r]);return i}function Le(){var e=[].slice.call(arguments,0);return xe("isBefore",e)}function Fe(){var e=[].slice.call(arguments,0);return xe("isAfter",e)}function Ye(e){var t=A(e),n=t.year||0,i=t.quarter||0,r=t.month||0,s=t.week||0,o=t.day||0,a=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*a,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=D(),this._bubble()}function He(e){return e instanceof Ye}function ze(e,t){Y(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}function Oe(e){var t=(e||"").match(ti)||[],n=t[t.length-1]||[],i=(n+"").match(Di)||["-",0,0],r=+(60*i[1])+g(i[2]);return"+"===i[0]?r:-r}function Ue(t,n){var r,s;return n._isUTC?(r=n.clone(),s=(f(t)||i(t)?+t:+Ce(t))-+r,r._d.setTime(+r._d+s),
e.updateOffset(r,!1),r):Ce(t).local()}function Ie(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ne(t,n){var i,r=this._offset||0;return null!=t?("string"==typeof t&&(t=Oe(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Ie(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?tt(this,Ze(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Ie(this)}function Be(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function qe(e){return this.utcOffset(0,e)}function Pe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ie(this),"m")),this}function Re(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Oe(this._i)),this}function We(e){return e=e?Ce(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Ge(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function je(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(c(e,this),e=Te(e),e._a){var t=e._isUTC?a(e._a):Ce(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ve(){return!this._isUTC}function Qe(){return this._isUTC}function Xe(){return this._isUTC&&0===this._offset}function Ze(e,t){var n,i,r,o=e,a=null;return He(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Mi.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:g(a[li])*n,h:g(a[di])*n,m:g(a[ui])*n,s:g(a[hi])*n,ms:g(a[ci])*n}):(a=Ti.exec(e))?(n="-"===a[1]?-1:1,o={y:$e(a[2],n),M:$e(a[3],n),d:$e(a[4],n),h:$e(a[5],n),m:$e(a[6],n),s:$e(a[7],n),w:$e(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Ke(Ce(o.from),Ce(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Ye(o),He(e)&&s(e,"_locale")&&(i._locale=e._locale),i}function $e(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Je(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ke(e,t){var n;return t=Ue(t,e),e.isBefore(t)?n=Je(e,t):(n=Je(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function et(e,t){return function(n,i){var r,s;return null===i||isNaN(+i)||(te(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=Ze(n,i),tt(this,r,e),this}}function tt(t,n,i,r){var s=n._milliseconds,o=n._days,a=n._months;r=null==r?!0:r,s&&t._d.setTime(+t._d+s*i),o&&x(t,"Date",C(t,"Date")+o*i),a&&X(t,C(t,"Month")+a*i),r&&e.updateOffset(t,o||a)}function nt(e,t){var n=e||Ce(),i=Ue(n,this).startOf("day"),r=this.diff(i,"days",!0),s=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(t&&t[s]||this.localeData().calendar(s,this,Ce(n)))}function it(){return new p(this)}function rt(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:Ce(e),+this>+e):(n=f(e)?+e:+Ce(e),n<+this.clone().startOf(t))}function st(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:Ce(e),+e>+this):(n=f(e)?+e:+Ce(e),+this.clone().endOf(t)<n)}function ot(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function at(e,t){var n;return t=T(t||"millisecond"),"millisecond"===t?(e=f(e)?e:Ce(e),+this===+e):(n=+Ce(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function lt(e,t,n){var i,r,s=Ue(e,this),o=6e4*(s.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(r=dt(this,s),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-s,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-o)/864e5:"week"===t?(i-o)/6048e5:i),n?r:m(r)}function dt(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(r,"months");return 0>t-s?(n=e.clone().add(r-1,"months"),i=(t-s)/(s-n)):(n=e.clone().add(r+1,"months"),i=(t-s)/(n-s)),-(r+i)}function ut(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ht(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():O(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ct(t){var n=O(this,t||e.defaultFormat);return this.localeData().postformat(n)}function pt(e,t){return this.isValid()?Ze({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ft(e){return this.from(Ce(),e)}function mt(e,t){return this.isValid()?Ze({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gt(e){return this.to(Ce(),e)}function vt(e){var t;return void 0===e?this._locale._abbr:(t=D(e),null!=t&&(this._locale=t),this)}function yt(){return this._locale}function bt(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function wt(e){return e=T(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function _t(){return+this._d-6e4*(this._offset||0)}function Et(){return Math.floor(+this/1e3)}function St(){return this._offset?new Date(+this):this._d}function Dt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Mt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Tt(){return u(this)}function At(){return o({},d(this))}function kt(){return d(this).overflow}function Ct(e,t){Y(0,[e,e.length],0,t)}function xt(e,t,n){return de(Ce([e,11,31+t-n]),t,n).week}function Lt(e){var t=de(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Ft(e){var t=de(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Yt(){return xt(this.year(),1,4)}function Ht(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function zt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ot(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ut(e){return this._weekdays[e.day()]}function It(e){return this._weekdaysShort[e.day()]}function Nt(e){return this._weekdaysMin[e.day()]}function Bt(e){var t,n,i;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Ce([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function qt(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ot(e,this.localeData()),this.add(e-t,"d")):t}function Pt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Rt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Wt(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Gt(e,t){return t._meridiemParse}function jt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Vt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Qt(e,t){t[ci]=g(1e3*("0."+e))}function Xt(){return this._isUTC?"UTC":""}function Zt(){return this._isUTC?"Coordinated Universal Time":""}function $t(e){return Ce(1e3*e)}function Jt(){return Ce.apply(null,arguments).parseZone()}function Kt(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function en(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function tn(){return this._invalidDate}function nn(e){return this._ordinal.replace("%d",e)}function rn(e){return e}function sn(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)}function on(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function an(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ln(e,t,n,i){var r=D(),s=a().set(i,t);return r[n](s,e)}function dn(e,t,n,i,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ln(e,t,n,r);var s,o=[];for(s=0;i>s;s++)o[s]=ln(e,s,n,r);return o}function un(e,t){return dn(e,t,"months",12,"month")}function hn(e,t){return dn(e,t,"monthsShort",12,"month")}function cn(e,t){return dn(e,t,"weekdays",7,"day")}function pn(e,t){return dn(e,t,"weekdaysShort",7,"day")}function fn(e,t){return dn(e,t,"weekdaysMin",7,"day")}function mn(){var e=this._data;return this._milliseconds=Xi(this._milliseconds),this._days=Xi(this._days),this._months=Xi(this._months),e.milliseconds=Xi(e.milliseconds),e.seconds=Xi(e.seconds),e.minutes=Xi(e.minutes),e.hours=Xi(e.hours),e.months=Xi(e.months),e.years=Xi(e.years),this}function gn(e,t,n,i){var r=Ze(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function vn(e,t){return gn(this,e,t,1)}function yn(e,t){return gn(this,e,t,-1)}function bn(e){return 0>e?Math.floor(e):Math.ceil(e)}function wn(){var e,t,n,i,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||0>=s&&0>=o&&0>=a||(s+=864e5*bn(En(a)+o),o=0,a=0),l.milliseconds=s%1e3,e=m(s/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,o+=m(n/24),r=m(_n(o)),a+=r,o-=bn(En(r)),i=m(a/12),a%=12,l.days=o,l.months=a,l.years=i,this}function _n(e){return 4800*e/146097}function En(e){return 146097*e/4800}function Sn(e){var t,n,i=this._milliseconds;if(e=T(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+_n(t),"month"===e?n:n/12;switch(t=this._days+Math.round(En(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Dn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Mn(e){return function(){return this.as(e)}}function Tn(e){return e=T(e),this[e+"s"]()}function An(e){return function(){return this._data[e]}}function kn(){return m(this.days()/7)}function Cn(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function xn(e,t,n){var i=Ze(e).abs(),r=hr(i.as("s")),s=hr(i.as("m")),o=hr(i.as("h")),a=hr(i.as("d")),l=hr(i.as("M")),d=hr(i.as("y")),u=r<cr.s&&["s",r]||1===s&&["m"]||s<cr.m&&["mm",s]||1===o&&["h"]||o<cr.h&&["hh",o]||1===a&&["d"]||a<cr.d&&["dd",a]||1===l&&["M"]||l<cr.M&&["MM",l]||1===d&&["y"]||["yy",d];return u[2]=t,u[3]=+e>0,u[4]=n,Cn.apply(null,u)}function Ln(e,t){return void 0===cr[e]?!1:void 0===t?cr[e]:(cr[e]=t,!0)}function Fn(e){var t=this.localeData(),n=xn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Yn(){var e,t,n,i=pr(this._milliseconds)/1e3,r=pr(this._days),s=pr(this._months);e=m(i/60),t=m(e/60),i%=60,e%=60,n=m(s/12),s%=12;var o=n,a=s,l=r,d=t,u=e,h=i,c=this.asSeconds();return c?(0>c?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(d||u||h?"T":"")+(d?d+"H":"")+(u?u+"M":"")+(h?h+"S":""):"P0D"}var Hn,zn,On=e.momentProperties=[],Un=!1,In={},Nn={},Bn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pn={},Rn={},Wn=/\d/,Gn=/\d\d/,jn=/\d{3}/,Vn=/\d{4}/,Qn=/[+-]?\d{6}/,Xn=/\d\d?/,Zn=/\d{1,3}/,$n=/\d{1,4}/,Jn=/[+-]?\d{1,6}/,Kn=/\d+/,ei=/[+-]?\d+/,ti=/Z|[+-]\d\d:?\d\d/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ri={},si={},oi=0,ai=1,li=2,di=3,ui=4,hi=5,ci=6;Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Y("MMMM",0,0,function(e){return this.localeData().months(this,e)}),M("month","M"),N("M",Xn),N("MM",Xn,Gn),N("MMM",ii),N("MMMM",ii),P(["M","MM"],function(e,t){t[ai]=g(e)-1}),P(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ai]=r:d(n).invalidMonth=e});var pi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi={};e.suppressDeprecationWarnings=!1;var gi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],yi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=ee("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),M("year","y"),N("Y",ei),N("YY",Xn,Gn),N("YYYY",$n,Vn),N("YYYYY",Jn,Qn),N("YYYYYY",Jn,Qn),P(["YYYYY","YYYYYY"],oi),P("YYYY",function(t,n){n[oi]=2===t.length?e.parseTwoDigitYear(t):g(t)}),P("YY",function(t,n){n[oi]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var wi=k("FullYear",!1);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),N("w",Xn),N("ww",Xn,Gn),N("W",Xn),N("WW",Xn,Gn),R(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=g(e)});var _i={dow:0,doy:6};Y("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),N("DDD",Zn),N("DDDD",jn),P(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),e.ISO_8601=function(){};var Ei=ee("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ce.apply(null,arguments);return this>e?this:e}),Si=ee("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ce.apply(null,arguments);return e>this?this:e});ze("Z",":"),ze("ZZ",""),N("Z",ti),N("ZZ",ti),P(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Oe(e)});var Di=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Mi=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ti=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ze.fn=Ye.prototype;var Ai=et(1,"add"),ki=et(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ci=ee("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ct("gggg","weekYear"),Ct("ggggg","weekYear"),Ct("GGGG","isoWeekYear"),Ct("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),N("G",ei),N("g",ei),N("GG",Xn,Gn),N("gg",Xn,Gn),N("GGGG",$n,Vn),N("gggg",$n,Vn),N("GGGGG",Jn,Qn),N("ggggg",Jn,Qn),R(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=g(e)}),R(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),Y("Q",0,0,"quarter"),M("quarter","Q"),N("Q",Wn),P("Q",function(e,t){t[ai]=3*(g(e)-1)}),Y("D",["DD",2],"Do","date"),M("date","D"),N("D",Xn),N("DD",Xn,Gn),N("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),P(["D","DD"],li),P("Do",function(e,t){t[li]=g(e.match(Xn)[0],10)});var xi=k("Date",!0);Y("d",0,"do","day"),Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),N("d",Xn),N("e",Xn),N("E",Xn),N("dd",ii),N("ddd",ii),N("dddd",ii),R(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:d(n).invalidWeekday=e}),R(["d","e","E"],function(e,t,n,i){t[i]=g(e)});var Li="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Yi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,function(){return this.hours()%12||12}),Wt("a",!0),Wt("A",!1),M("hour","h"),N("a",Gt),N("A",Gt),N("H",Xn),N("h",Xn),N("HH",Xn,Gn),N("hh",Xn,Gn),P(["H","HH"],di),P(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),P(["h","hh"],function(e,t,n){t[di]=g(e),d(n).bigHour=!0});var Hi=/[ap]\.?m?\.?/i,zi=k("Hours",!0);Y("m",["mm",2],0,"minute"),M("minute","m"),N("m",Xn),N("mm",Xn,Gn),P(["m","mm"],ui);var Oi=k("Minutes",!1);Y("s",["ss",2],0,"second"),M("second","s"),N("s",Xn),N("ss",Xn,Gn),P(["s","ss"],hi);var Ui=k("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),M("millisecond","ms"),N("S",Zn,Wn),N("SS",Zn,Gn),N("SSS",Zn,jn);var Ii;for(Ii="SSSS";Ii.length<=9;Ii+="S")N(Ii,Kn);for(Ii="S";Ii.length<=9;Ii+="S")P(Ii,Qt);var Ni=k("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var Bi=p.prototype;Bi.add=Ai,Bi.calendar=nt,Bi.clone=it,Bi.diff=lt,Bi.endOf=wt,Bi.format=ct,Bi.from=pt,Bi.fromNow=ft,Bi.to=mt,Bi.toNow=gt,Bi.get=L,Bi.invalidAt=kt,Bi.isAfter=rt,Bi.isBefore=st,Bi.isBetween=ot,Bi.isSame=at,Bi.isValid=Tt,Bi.lang=Ci,Bi.locale=vt,Bi.localeData=yt,Bi.max=Si,Bi.min=Ei,Bi.parsingFlags=At,Bi.set=L,Bi.startOf=bt,Bi.subtract=ki,Bi.toArray=Dt,Bi.toObject=Mt,Bi.toDate=St,Bi.toISOString=ht,Bi.toJSON=ht,Bi.toString=ut,Bi.unix=Et,Bi.valueOf=_t,Bi.year=wi,Bi.isLeapYear=le,Bi.weekYear=Lt,Bi.isoWeekYear=Ft,Bi.quarter=Bi.quarters=zt,Bi.month=Z,Bi.daysInMonth=$,Bi.week=Bi.weeks=pe,Bi.isoWeek=Bi.isoWeeks=fe,Bi.weeksInYear=Ht,Bi.isoWeeksInYear=Yt,Bi.date=xi,Bi.day=Bi.days=qt,Bi.weekday=Pt,Bi.isoWeekday=Rt,Bi.dayOfYear=ge,Bi.hour=Bi.hours=zi,Bi.minute=Bi.minutes=Oi,Bi.second=Bi.seconds=Ui,Bi.millisecond=Bi.milliseconds=Ni,Bi.utcOffset=Ne,Bi.utc=qe,Bi.local=Pe,Bi.parseZone=Re,Bi.hasAlignedHourOffset=We,Bi.isDST=Ge,Bi.isDSTShifted=je,Bi.isLocal=Ve,Bi.isUtcOffset=Qe,Bi.isUtc=Xe,Bi.isUTC=Xe,Bi.zoneAbbr=Xt,Bi.zoneName=Zt,Bi.dates=ee("dates accessor is deprecated. Use date instead.",xi),Bi.months=ee("months accessor is deprecated. Use month instead",Z),Bi.years=ee("years accessor is deprecated. Use year instead",wi),Bi.zone=ee("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Be);var qi=Bi,Pi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ri={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Wi="Invalid date",Gi="%d",ji=/\d{1,2}/,Vi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Qi=y.prototype;Qi._calendar=Pi,Qi.calendar=Kt,Qi._longDateFormat=Ri,Qi.longDateFormat=en,Qi._invalidDate=Wi,Qi.invalidDate=tn,Qi._ordinal=Gi,Qi.ordinal=nn,Qi._ordinalParse=ji,Qi.preparse=rn,Qi.postformat=rn,Qi._relativeTime=Vi,Qi.relativeTime=sn,Qi.pastFuture=on,Qi.set=an,Qi.months=j,Qi._months=pi,Qi.monthsShort=V,Qi._monthsShort=fi,Qi.monthsParse=Q,Qi.week=ue,Qi._week=_i,Qi.firstDayOfYear=ce,Qi.firstDayOfWeek=he,Qi.weekdays=Ut,Qi._weekdays=Li,Qi.weekdaysMin=Nt,Qi._weekdaysMin=Yi,Qi.weekdaysShort=It,Qi._weekdaysShort=Fi,Qi.weekdaysParse=Bt,Qi.isPM=jt,Qi._meridiemParse=Hi,Qi.meridiem=Vt,E("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=ee("moment.lang is deprecated. Use moment.locale instead.",E),e.langData=ee("moment.langData is deprecated. Use moment.localeData instead.",D);var Xi=Math.abs,Zi=Mn("ms"),$i=Mn("s"),Ji=Mn("m"),Ki=Mn("h"),er=Mn("d"),tr=Mn("w"),nr=Mn("M"),ir=Mn("y"),rr=An("milliseconds"),sr=An("seconds"),or=An("minutes"),ar=An("hours"),lr=An("days"),dr=An("months"),ur=An("years"),hr=Math.round,cr={s:45,m:45,h:22,d:26,M:11},pr=Math.abs,fr=Ye.prototype;fr.abs=mn,fr.add=vn,fr.subtract=yn,fr.as=Sn,fr.asMilliseconds=Zi,fr.asSeconds=$i,fr.asMinutes=Ji,fr.asHours=Ki,fr.asDays=er,fr.asWeeks=tr,fr.asMonths=nr,fr.asYears=ir,fr.valueOf=Dn,fr._bubble=wn,fr.get=Tn,fr.milliseconds=rr,fr.seconds=sr,fr.minutes=or,fr.hours=ar,fr.days=lr,fr.weeks=kn,fr.months=dr,fr.years=ur,fr.humanize=Fn,fr.toISOString=Yn,fr.toString=Yn,fr.toJSON=Yn,fr.locale=vt,fr.localeData=yt,fr.toIsoString=ee("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yn),fr.lang=Ci,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),N("x",ei),N("X",ni),P("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),P("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.10.6",t(Ce),e.fn=qi,e.min=Le,e.max=Fe,e.utc=a,e.unix=$t,e.months=un,e.isDate=i,e.locale=E,e.invalid=h,e.duration=Ze,e.isMoment=f,e.weekdays=cn,e.parseZone=Jt,e.localeData=D,e.isDuration=He,e.monthsShort=hn,e.weekdaysMin=fn,e.defineLocale=S,e.weekdaysShort=pn,e.normalizeUnits=T,e.relativeTimeThreshold=Ln;var mr=e;return mr});var hashedit=function(){"use strict";return{version:"0.3.8",debug:!0,demo:!1,stylesheet:"/node_modules/hashedit/dist/hashedit-min.css",current:{container:null,node:null,parent:null,element:null,image:null},selection:null,elementMenu:'<span class="hashedit-move"><span><svg viewBox="0 0 24 24" height="100%" width="100%" preserveAspectRatio="xMidYMid meet" fit="" style="pointer-events: none; display: block;"><g><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path></g></svg></span></span><span class="hashedit-properties"><span><svg viewBox="0 0 24 24" height="100%" width="100%" preserveAspectRatio="xMidYMid meet"><g><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></g></svg></span></span><span class="hashedit-remove"><span><svg viewBox="0 0 24 24" height="100%" width="100%" preserveAspectRatio="xMidYMid meet"><g><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g></svg></span></span>',framework:"bootstrap",frameworkDefaults:{bootstrap:{table:"table",image:"img-responsive",code:""}},drawer:{page:[{text:"Add Page",attr:"hashedit-add-page"},{text:"Page Settings",attr:"hashedit-page-settings"}],app:[{text:"Exit",attr:"hashedit-exit"}]},menu:[{action:"hashedit.h1",selector:"h1",title:"H1 Headline",display:"H1",html:"<h1>Start Typing...</h1>"},{action:"hashedit.h2",selector:"h2",title:"H2 Headline",display:"H2",html:"<h2>Start Typing...</h2>"},{action:"hashedit.h3",selector:"h3",title:"H3 Headline",display:"H3",html:"<h3>Start Typing...</h3>"},{action:"hashedit.h4",selector:"h4",title:"H4 Headline",display:"H4",html:"<h4>Start Typing...</h4>"},{action:"hashedit.h5",selector:"h5",title:"H5 Headline",display:"H5",html:"<h5>Start Typing...</h5>"},{action:"hashedit.p",selector:"p",title:"Paragraph",display:"P",html:"<p>Start Typing...</p>"},{action:"hashedit.blockquote",selector:"blockquote",title:"Blockquote",display:"<svg viewBox='0 0 24 24' height='100%' width='100%' preserveAspectRatio='xMidYMid meet' style='pointer-events: none; display: block;'><g><path d='M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z'></path></g></svg>",html:"<blockquote></blockquote>"},{action:"hashedit.ul",selector:"ul",title:"Unordered List",display:"<svg viewBox='0 0 24 24' height='100%' width='100%' preserveAspectRatio='xMidYMid meet' style='pointer-events: none; display: block;'><g><path d='M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12.17c-.74 0-1.33.6-1.33 1.33s.6 1.33 1.33 1.33 1.33-.6 1.33-1.33-.59-1.33-1.33-1.33zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z'></path></g></svg>",html:"<ul><li></li></ul>"},{action:"hashedit.ol",selector:"ol",title:"Ordered List",display:"<svg viewBox='0 0 24 24' height='100%' width='100%' preserveAspectRatio='xMidYMid meet' style='pointer-events: none; display: block;'><g><path d='M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z'></path></g></svg>",html:"<ol><li></li></ol>"},{action:"hashedit.image",selector:"img",title:"Image",display:"<svg viewBox='0 0 24 24' height='100%' width='100%' preserveAspectRatio='xMidYMid meet' style='pointer-events: none; display: block;'><path d='M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z'></path></g></svg>",html:'<img src="images/bridge.png" class="{{framework.image}}">',configure:function(){hashedit.showImageDialog()}},{action:"hashedit.table",selector:"table",title:"Table",display:"<svg viewBox='0 0 24 24' height='100%' width='100%' preserveAspectRatio='xMidYMid meet' style='pointer-events: none; display: block;'><g><path d='M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z'></path></g></svg>",html:'<table class="{{framework.table}}" rows="1" columns="2"><thead><tr><th>Header</th><th>Header</th></tr></thead><tbody><tr><td>Content</td><td>Content</td></tr></tbody></table>',configure:function(){document.querySelector("#hashedit-table-settings").setAttribute("visible","")},change:function(e,t,n){var i,r,s,o,a,l,d,u,h,c,p,f,m,g;if(t!=n)if("columns"==e){if(a=t,l=n,a>l)for(d=a-l,h=hashedit.current.node,c=hashedit.current.node.getElementsByTagName("tr"),i=0;i<c.length;i+=1)for(r=0;d>r;r+=1)"THEAD"==c[i].parentNode.nodeName?(p=document.createElement("th"),p.setAttribute("contentEditable","true"),p.innerHTML="New Header",c[i].appendChild(p)):(m=document.createElement("td"),m.setAttribute("contentEditable","true"),m.innerHTML="Content",c[i].appendChild(m));else if(l>a)for(u=l-a,h=hashedit.current.node,c=hashedit.current.node.getElementsByTagName("tr"),i=0;i<c.length;i+=1)for(r=0;u>r;r+=1)"THEAD"==c[i].parentNode.nodeName?c[i].querySelector("th:last-child").remove():c[i].querySelector("td:last-child").remove()}else if("rows"==e)if(s=t,o=n,h=hashedit.current.node,a=h.querySelectorAll("thead tr:first-child th").length,console.log("rows, new="+s+", old="+o+", columns="+a),s>o)for(d=s-o,console.log("rows, tobeadded="+d),r=0;d>r;r+=1){for(f=document.createElement("tr"),i=0;a>i;i+=1)m=document.createElement("td"),m.setAttribute("contentEditable","true"),m.innerHTML="Content",f.appendChild(m);console.log(g),g=h.getElementsByTagName("tbody")[0],g.appendChild(f)}else if(o>s)for(u=o-s,r=0;u>r;r+=1)f=h.querySelector("tbody tr:last-child"),null!==f&&f.remove()}},{action:"hashedit.code",selector:"pre",title:"Code",display:"<svg viewBox='0 0 24 24'  height='100%' width='100%' preserveAspectRatio='xMidYMid meet' style='pointer-events: none; display: block;'><g><path d='M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z'></path></g></svg>",html:"<pre>Start adding code</pre>"}],mirror:null,newElementCount:0,authUrl:"/api/auth",saveUrl:"/api/pages/save",addPageURL:"/api/pages/add",pageSettingsURL:"/api/pages/settings",retrieveUrl:"/api/pages/retrieve",uploadUrl:"/api/images/add",imagesListUrl:"/api/images/list",pagesListUrl:"/api/pages/list",pathListUrl:"/api/pages/path/list",imagesListLoaded:!1,pagesListLoaded:!1,pathListLoaded:!1,init:function(){var e,t,n,i,r,s,o;t="",n=null,i=window.location.pathname,null!==localStorage.getItem(i)?(t=localStorage.getItem(i),n=new DOMParser,hashedit.mirror=n.parseFromString(t,"text/html")):fetch(hashedit.retrieveUrl,{credentials:"include"}).then(function(e){return e.text()}).then(function(t){for(n=new DOMParser,r=n.parseFromString(t,"text/html"),s=r.getElementsByTagName("script"),o=s[0],o.parentNode.removeChild(o),s=r.getElementsByTagName("*"),e=0;e<s.length;e+=1)s[e].setAttribute("data-ref",e);localStorage.clear(),localStorage.setItem(i,r.documentElement.innerHTML),window.location.href=window.location.href,location.reload()})},setActive:function(){var e,t;for(document.querySelector("body").setAttribute("hashedit-active",""),t=document.querySelectorAll("[hashedit] p, [hashedit] h1, [hashedit] h2, [hashedit] h3, [hashedit] h4, [hashedit] h5,[hashedit] li, [hashedit] td, [hashedit] th, [hashedit] blockquote, [hashedit] pre, [hashedit] label"),e=0;e<t.length;e+=1)t[e].setAttribute("contentEditable","true")},setupSortable:function(e){var t,n,i,r,s,o,a,l,d,u,h;for(t=0;t<e.length;t+=1)for(i=document.querySelectorAll("[hashedit] "+e[t]),n=0;n<i.length;n+=1)i[n].setAttribute("hashedit-sortable","");for(i=document.querySelectorAll("[hashedit-sortable] > *"),n=0;n<i.length;n+=1)r=document.createElement("div"),r.setAttribute("class","hashedit-element"),hashedit.wrap(r,i[n]),s=document.createElement("span"),s.setAttribute("class","hashedit-move"),s.innerHTML='<span><svg viewBox="0 0 24 24" height="100%" width="100%" preserveAspectRatio="xMidYMid meet" fit="" style="pointer-events: none; display: block;"><g><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path></g></svg></span>',r.appendChild(s),s=document.createElement("span"),s.setAttribute("class","hashedit-properties"),s.innerHTML='<span><svg viewBox="0 0 24 24" height="100%" width="100%" preserveAspectRatio="xMidYMid meet"><g><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></g></svg></span>',
r.appendChild(s),s=document.createElement("span"),s.setAttribute("class","hashedit-remove"),s.innerHTML='<span><svg viewBox="0 0 24 24" height="100%" width="100%" preserveAspectRatio="xMidYMid meet"><g><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g></svg></span>',r.appendChild(s);for(i=document.querySelectorAll("[hashedit] [hashedit-sortable]"),t=0;t<i.length;t+=1)o=i[t],h=new Sortable(o,{group:"hashedit-sortable",sort:!0,delay:0,disabled:!1,store:null,animation:150,handle:".hashedit-move",ghostClass:"hashedit-highlight",scroll:!0,scrollSensitivity:30,scrollSpeed:10,onEnd:function(e){a=e.item,l=a.querySelector(":first-child").getAttribute("data-ref"),void 0!==l&&(a.nextSibling.querySelector?(d=a.nextSibling.querySelector(":first-child").getAttribute("data-ref"),hashedit.moveMirrorElement(l,d,"before")):a.parentNode&&(u=a.parentNode.getAttribute("data-ref"),hashedit.moveMirrorElement(l,u,"append")))}})},showAuth:function(){var e=document.createElement("nav");e.setAttribute("class","hashedit-login"),e.innerHTML='You need to signin to begin editing. <a href="/auth/google">Sign In with Google</a>',hashedit.current.container.appendChild(e)},setupDrawer:function(){var e,t,n,i,r,s,o;for(e=document.createElement("nav"),e.setAttribute("class","hashedit-drawer"),o="<ul>",o+='<li class="hashedit-drawer-title"><span>Page</span></li>',i=0;i<hashedit.drawer.page.length;i++)o+="<li "+hashedit.drawer.page[i].attr+"><a>"+hashedit.drawer.page[i].text+"</a></li>";for(o+='<li class="hashedit-drawer-title"><span>App</span></li>',i=0;i<hashedit.drawer.app.length;i++)o+="<li "+hashedit.drawer.app[i].attr+"><a>"+hashedit.drawer.app[i].text+"</a></li>";o+="</ul>",e.innerHTML=o,hashedit.current.container.appendChild(e),document.querySelector("[hashedit-add-page]").addEventListener("click",function(){e=document.querySelector(".hashedit-drawer"),e.removeAttribute("visible"),document.getElementById("hashedit-add-page-url").value="",document.getElementById("hashedit-add-page").setAttribute("visible",""),hashedit.pathListLoaded===!1&&fetch(hashedit.pathListUrl,{credentials:"include"}).then(function(e){return e.json()}).then(function(e){for(r=document.getElementById("hashedit-add-page-path"),i=0;i<e.length;i+=1)s=document.createElement("option"),s.setAttribute("value",e[i]),s.innerHTML=e[i],r.appendChild(s);hashedit.pathListLoaded=!0})["catch"](function(e){console.log("parsing failed",e)})}),document.querySelector("[hashedit-page-settings]").addEventListener("click",function(){e=document.querySelector(".hashedit-drawer"),e.removeAttribute("visible"),t="",n=document.querySelector('meta[name="description"]'),null!==n&&(t=n.getAttribute("content")),document.getElementById("hashedit-page-title").value=document.title,document.getElementById("hashedit-page-desc").value=t,document.querySelector("#hashedit-page-settings").setAttribute("visible","")})},setupToast:function(){var e;e=document.createElement("div"),e.setAttribute("class","hashedit-toast"),e.innerHTML="Sample Toast",hashedit.current.container.appendChild(e)},showToast:function(e,t){var n;n=document.querySelector(".hashedit-toast"),n.innerHTML=e,n.removeAttribute("success"),n.removeAttribute("failure"),n.setAttribute("active",""),"success"==t?n.setAttribute("success",""):"failure"==t&&n.setAttribute("failure",""),setTimeout(function(){n.removeAttribute("active")},2e3)},setupMenu:function(){var e,t,n,i;e=document.createElement("menu"),e.setAttribute("class","hashedit-menu"),e.innerHTML='<button class="hashedit-more"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"><g><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></g></svg></button><button class="hashedit-save"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"><g><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></g></svg></button><div class="hashedit-menu-body"></div>',hashedit.current.container.appendChild(e),document.querySelector(".hashedit-more").addEventListener("click",function(){t=document.querySelector(".hashedit-drawer"),t.hasAttribute("visible")?t.removeAttribute("visible"):t.setAttribute("visible","")}),document.querySelector(".hashedit-save").addEventListener("click",function(){hashedit.demo===!0?(hashedit.showToast("Cannot save in demo mode","failure"),localStorage.clear()):(n=hashedit.retrieveUpdateArray(),hashedit.saveUrl&&(i=new XMLHttpRequest,i.open("post",hashedit.saveUrl,!0),i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.send(JSON.stringify(n)),i.onloadend=function(){localStorage.clear(),hashedit.showToast("Updates saved!","success")}))})},setupDraggable:function(){var e,t,n,i,r,s;t=document.querySelector(".hashedit-menu-body"),n=new Sortable(t,{group:{name:"hashedit-sortable",pull:"clone",put:!1},draggable:"a",sort:!1,delay:0,disabled:!1,animation:150,ghostClass:"hashedit-highlight",scroll:!0,scrollSensitivity:30,scrollSpeed:10,onEnd:function(t){for(i=t.item,r=i.getAttribute("data-action"),e=0;e<hashedit.menu.length;e+=1)hashedit.menu[e].action==r&&(s=hashedit.menu[e].html,s=hashedit.replaceAll(s,"{{framework.image}}",hashedit.frameworkDefaults[hashedit.framework].image),s=hashedit.replaceAll(s,"{{framework.table}}",hashedit.frameworkDefaults[hashedit.framework].table),s=hashedit.replaceAll(s,"{{framework.code}}",hashedit.frameworkDefaults[hashedit.framework].code),hashedit.append(s));return!1}})},loadHTML:function(e){var t,n;fetch(e+"html/modals.html").then(function(e){return e.text()}).then(function(e){for(n=document.createElement("div"),n.innerHTML=e,t=0;t<n.childNodes.length;t+=1)hashedit.current.container.appendChild(n.childNodes[t]);for(t=0;t<hashedit.menu.length;t+=1)hashedit.menu[t].init&&hashedit.menu[t].init();hashedit.setupConfigEvents(),hashedit.setupTextEvents(),hashedit.setupModalEvents()})},createMenu:function(){var e,t,n;for(e=0;e<hashedit.menu.length;e+=1)t=hashedit.menu[e],n=document.createElement("a"),n.setAttribute("title",t.title),n.setAttribute("data-action",t.action),n.innerHTML=t.display,document.querySelector(".hashedit-menu-body").appendChild(n);hashedit.setupDraggable()},showTextOptions:function(e){var t,n,i,r,s;for(hashedit.current.element=e,hashedit.current.parent=hashedit.findParentBySelector(e,".hashedit-element"),hashedit.current.node=hashedit.current.parent.firstChild,n=document.querySelector(".hashedit-drawer"),n.removeAttribute("visible"),i=document.querySelector("#hashedit-image-settings"),i.removeAttribute("visible"),i=document.querySelector("#hashedit-link-settings"),i.removeAttribute("visible"),r=document.querySelector("#hashedit-text-settings"),r.setAttribute("visible",""),s=document.querySelectorAll("[data-model]"),t=0;t<s.length;t+=1)"SELECT"==s[t].nodeType?s[t].selectedIndex=0:s[t].value="";hashedit.bind()},bind:function(){var e,t,n,i,r,s;for(e=hashedit.current.node.attributes,t=0;t<e.length;t+=1)for(i=e[t].nodeName.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),r=e[t].nodeValue,!isNaN(parseFloat(r))&&isFinite(r)&&(r=parseFloat(r)),s=document.querySelectorAll('[data-model="node.'+i+'"]'),n=0;n<s.length;n+=1)s[n].value=r},setupContentEditableEvents:function(){var e,t,n,i,r,s,o,a,l,d,u,h,c,p,f,m,g;for(n=document.querySelectorAll("body"),e=0;e<n.length;e+=1)["click","focus"].forEach(function(a){n[e].addEventListener(a,function(n){for(h=hashedit.findParentBySelector(n.target,".hashedit-element"),g=null,null!==h&&(g=h.firstChild),c=document.querySelectorAll("[current-hashedit-element]"),t=0;t<c.length;t+=1)c[t].removeAttribute("current-hashedit-element");if(h&&h.setAttribute("current-hashedit-element","true"),p=!1,null!==hashedit.findParentBySelector(n.target,".hashedit-properties")&&(p=!0),m=!1,null!==hashedit.findParentBySelector(n.target,".hashedit-remove")&&(m=!0),m===!0){h.remove();var a=g.getAttribute("data-ref");null!==a&&hashedit.removeMirrorElement(a)}else if(p===!0){for(hashedit.current.node=g,hashedit.bind(),f=!0,e=0;e<hashedit.menu.length;e+=1)h.firstChild.matches(hashedit.menu[e].selector)&&hashedit.menu[e].configure&&(f=!1,hashedit.menu[e].configure());f===!0&&document.getElementById("hashedit-element-settings").setAttribute("visible","true")}else if("A"==n.target.nodeName){for(i=document.querySelectorAll("[hashedit]"),r=!1,e=0;e<i.length;e+=1)i[e].contains(n.target)===!0&&(r=!0);r&&hashedit.showLinkDialog()}else if("IMG"==n.target.nodeName){for(hashedit.current.node=n.target,i=document.querySelectorAll("[hashedit]"),r=!1,e=0;e<i.length;e+=1)i[e].contains(n.target)===!0&&(r=!0);r&&hashedit.showImageDialog()}else if(n.target.hasAttribute("contentEditable"))hashedit.showTextOptions(n.target);else if(n.target.parentNode.hasAttribute("contentEditable")&&n.target.parentNode)hashedit.showTextOptions(n.target);else if("dz-hidden-input"==n.target.className);else{for(s=document.querySelectorAll(".hashedit-config, .hashedit-modal, .hashedit-menu, .hashedit-drawer"),o=!1,e=0;e<s.length;e+=1)s[e].contains(n.target)===!0&&(o=!0);if(o===!1)for(e=0;e<s.length;e+=1)s[e].removeAttribute("visible")}})}),["input"].forEach(function(t){n[e].addEventListener(t,function(e){if(e.target.hasAttribute("contentEditable"))for(a=e.target;null!==a;)a.hasAttribute("data-ref")?(l=a.getAttribute("data-ref"),d=a.innerHTML,hashedit.setMirrorHTML(l,d),a=null):a=a.parentNode})}),["keydown"].forEach(function(t){n[e].addEventListener(t,function(e){e.target.hasAttribute("contentEditable")&&(a=e.target,13===e.keyCode&&"LI"==a.nodeName&&(u=document.createElement("li"),u.setAttribute("contentEditable",!0),a.parentNode.appendChild(u),a.parentNode.lastChild.focus(),e.preventDefault(),e.stopPropagation()),8===e.keyCode&&"LI"==a.nodeName&&""===a.innerHTML&&(console.log(a.previousSibling),null!==a.previousSibling&&(h=a.parentNode,a.remove(),h.lastChild.focus()),e.preventDefault(),e.stopPropagation()))})})},selectElementContents:function(e){var t,n;t=document.createRange(),t.selectNodeContents(e),n=window.getSelection(),n.removeAllRanges(),n.addRange(t)},append:function(e){var t,n,i,r,s,o,a;if(n=document.createElement("div"),n.setAttribute("class","hashedit-element"),n.innerHTML=e+hashedit.elementMenu,i=document.querySelector("[hashedit-sortable] [data-action]"),null!==i){i.parentNode.replaceChild(n,i);var l=n.querySelectorAll("p, h1, h2, h3, h4, h5, li, td, th, blockquote, pre");for(t=0;t<l.length;t+=1)l[t].setAttribute("contentEditable","true");l.length>0&&(l[0].focus(),hashedit.showTextOptions(l[0]),hashedit.selectElementContents(l[0])),hashedit.newElementCount=hashedit.newElementCount+1,r=n.querySelector(":first-child"),null!==r&&(s="new-"+hashedit.newElementCount,r.setAttribute("data-ref",s)),n.nextSibling?(o=n.nextSibling.querySelector(":first-child").getAttribute("data-ref"),hashedit.insertMirrorElement(s,o,"before",e)):n.parentNode&&(a=n.parentNode.getAttribute("data-ref"),hashedit.insertMirrorElement(s,a,"append",e))}return n},setupModalEvents:function(){var e,t,n,i,r,s,o,a,l,d,u,h,c,p;for(t=new Dropzone("#hashedit-dropzone",{url:hashedit.uploadUrl}),t.on("complete",function(e){t.removeFile(e)}),t.on("success",function(e,t){var n="images/"+e.name;p=document.getElementById("hashedit-image-src"),p.value=n,r=document.getElementById("images-list"),s=document.createElement("div"),s.setAttribute("class","hashedit-list-item"),s.innerHTML="images/"+n,s.setAttribute("data-value","images/"+n),r.appendChild(s),p.dispatchEvent(new Event("input",{bubbles:!0})),i=document.getElementById("hashedit-image-settings"),i.removeAttribute("hashedit-card-flipped")}),r=document.getElementById("images-list"),["click"].forEach(function(e){r.addEventListener(e,function(e){e.target.hasAttribute("data-value")===!0&&(c=e.target.getAttribute("data-value"),p=document.getElementById("hashedit-image-src"),p.value=c,p.dispatchEvent(new Event("input",{bubbles:!0})),i=document.getElementById("hashedit-image-settings"),i.removeAttribute("hashedit-card-flipped"))})}),r=document.getElementById("pages-list"),["click"].forEach(function(e){r.addEventListener(e,function(e){e.target.hasAttribute("data-value")===!0&&(c=e.target.getAttribute("data-value"),p=document.getElementById("hashedit-link-href"),p.value=c,p.dispatchEvent(new Event("input",{bubbles:!0})),i=document.getElementById("hashedit-link-settings"),i.removeAttribute("hashedit-card-flipped"))})}),n=document.querySelectorAll(".toggle-select-image"),e=0;e<n.length;e+=1)["click"].forEach(function(t){n[e].addEventListener(t,function(t){i=document.querySelector("#hashedit-image-settings"),i.hasAttribute("hashedit-card-flipped")?i.removeAttribute("hashedit-card-flipped"):i.setAttribute("hashedit-card-flipped","true"),hashedit.imagesListLoaded===!1&&fetch(hashedit.imagesListUrl,{credentials:"include"}).then(function(e){return e.json()}).then(function(t){for(r=document.getElementById("images-list"),r.innerHTML="",e=0;e<t.length;e+=1)s=document.createElement("div"),s.setAttribute("class","hashedit-list-item"),s.innerHTML=t[e],s.setAttribute("data-value",t[e]),r.appendChild(s);hashedit.imagesListLoaded=!0})["catch"](function(e){console.log("parsing failed",e)})})});for(n=document.querySelectorAll(".toggle-select-url"),e=0;e<n.length;e+=1)["click"].forEach(function(t){n[e].addEventListener(t,function(t){i=document.querySelector("#hashedit-link-settings"),i.hasAttribute("hashedit-card-flipped")?i.removeAttribute("hashedit-card-flipped"):i.setAttribute("hashedit-card-flipped","true"),hashedit.pagesListLoaded===!1&&fetch(hashedit.pagesListUrl,{credentials:"include"}).then(function(e){return e.json()}).then(function(t){for(r=document.getElementById("pages-list"),r.innerHTML="",e=0;e<t.length;e+=1)s=document.createElement("div"),s.setAttribute("class","hashedit-list-item"),s.innerHTML=t[e],s.setAttribute("data-value",t[e]),r.appendChild(s);hashedit.pagesListLoaded=!0})["catch"](function(e){console.log("parsing failed",e)})})});document.querySelector("[hashedit-add-page-create]").addEventListener("click",function(){hashedit.demo===!0?hashedit.showToast("Cannot add page in demo mode","failure"):(o=document.getElementById("hashedit-add-page-path").value,a=document.getElementById("hashedit-add-page-url").value,l=document.getElementById("hashedit-add-page-title").value,d=document.getElementById("hashedit-add-page-desc").value,a=a.trim(),""!==a?(a=hashedit.replaceAll(a,".html",""),a=hashedit.replaceAll(a,".htm",""),a=hashedit.replaceAll(a,".","-"),a=hashedit.replaceAll(a," ","-"),a=hashedit.replaceAll(a,"/","-"),a=o+"/"+a+".html",a=hashedit.replaceAll(a,"//","/"),u={url:a,title:l,description:d},hashedit.addPageURL&&(h=new XMLHttpRequest,h.open("post",hashedit.addPageURL,!0),h.setRequestHeader("Content-Type","application/json; charset=UTF-8"),h.send(JSON.stringify(u)),h.onloadend=function(){document.getElementById("hashedit-add-page").removeAttribute("visible"),hashedit.showToast("Page added at "+a,"success")})):hashedit.showToast("URL required","failure"))}),document.querySelector("[hashedit-exit]").addEventListener("click",function(){var e=hashedit.replaceAll(window.location.href,"#edit","");window.location.href=e}),document.querySelector("[hashedit-apply-page-settings]").addEventListener("click",function(){hashedit.demo===!0?hashedit.showToast("Cannot save settings in demo mode","failure"):(l=document.getElementById("hashedit-page-title").value,d=document.getElementById("hashedit-page-desc").value,u={title:l,description:d},hashedit.pageSettingsURL&&(h=new XMLHttpRequest,h.open("post",hashedit.pageSettingsURL,!0),h.setRequestHeader("Content-Type","application/json; charset=UTF-8"),h.send(JSON.stringify(u)),h.onloadend=function(){document.getElementById("hashedit-page-settings").removeAttribute("visible"),hashedit.showToast("Settings updated successfully!","success")}))})},setupConfigEvents:function(){var e,t,n,i,r,s,o,a,l,d;for(t=document.querySelectorAll(".hashedit-config, .hashedit-modal"),e=0;e<t.length;e+=1)["propertychange","change","click","keyup","input","paste"].forEach(function(u){t[e].addEventListener(u,function(t){if(n=t.target,n.hasAttribute("hashedit-cancel-modal"))for(i=document.querySelectorAll(".hashedit-modal"),e=0;e<i.length;e+=1)i[e].removeAttribute("visible");if(n.hasAttribute("data-model")){if(null!==hashedit.current.node&&(r=hashedit.current.node.getAttribute("data-ref")),s=n.getAttribute("data-model"),o="",a="",o=n.value,-1!=s.indexOf("node.")&&(l=s.split("."),l.length>1)){a=l[1].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var u=hashedit.current.node.getAttribute(a);for(hashedit.current.node.setAttribute(a,o),hashedit.setMirrorAttribute(r,a,o),d=hashedit.createTextStyle(hashedit.current.node),hashedit.current.node.setAttribute("style",d),e=0;e<hashedit.menu.length;e+=1)hashedit.current.node.matches(hashedit.menu[e].selector)&&hashedit.menu[e].configure&&hashedit.menu[e].change(a,o,u)}-1!=s.indexOf("link.")&&(l=s.split("."),l.length>1&&(a=l[1].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),hashedit.currLink.setAttribute(a,o),hashedit.current.node.dispatchEvent(new Event("input",{bubbles:!0})))),-1!=s.indexOf("image.")&&(l=s.split("."),l.length>1&&(a=l[1].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=hashedit.current.node.getAttribute("data-ref"),hashedit.current.node.setAttribute(a,o),hashedit.setMirrorAttribute(r,a,o),null!==hashedit.current.node&&hashedit.current.node.dispatchEvent(new Event("input",{bubbles:!0}))))}},!1)})},setupTextEvents:function(){var e,t,n,i,r,s,o,a;for(t=document.querySelectorAll(".hashedit-config"),e=0;e<t.length;e+=1)["mousedown","touchstart"].forEach(function(l){t[e].addEventListener(l,function(e){if(n=e.target,"SVG"==n.nodeName&&(n=n.parentNode),n.hasAttribute("data-action")){if(i=n.getAttribute("data-action"),"hashedit.text.bold"==i)return document.execCommand("Bold",!1,null),!1;if("hashedit.text.italic"==i)return document.execCommand("Italic",!1,null),!1;if("hashedit.text.strike"==i)return document.execCommand("strikeThrough",!1,null),!1;if("hashedit.text.subscript"==i)return document.execCommand("subscript",!1,null),!1;if("hashedit.text.superscript"==i)return document.execCommand("superscript",!1,null),!1;if("hashedit.text.underline"==i)return document.execCommand("underline",!1,null),!1;if("hashedit.text.link"==i)return r=hashedit.getSelectedText(),s="<a>"+r+"</a>",document.execCommand("insertHTML",!1,s),hashedit.showLinkDialog(),!1;if("hashedit.text.code"==i)return r=hashedit.getSelectedText(),s="<code>"+r+"</code>",document.execCommand("insertHTML",!1,s),!1;if("hashedit.text.alignLeft"==i)return o=document.querySelector('.hashedit-modal [data-model="node.class"]'),a=o.value,a=hashedit.replaceAll(a,"text-center",""),a=hashedit.replaceAll(a,"text-left",""),a=hashedit.replaceAll(a,"text-right",""),a+=" text-left",o.value=a.trim(),o.dispatchEvent(new Event("change",{bubbles:!0})),!1;if("hashedit.text.alignRight"==i)return o=document.querySelector('.hashedit-modal [data-model="node.class"]'),a=o.value,a=hashedit.replaceAll(a,"text-center",""),a=hashedit.replaceAll(a,"text-left",""),a=hashedit.replaceAll(a,"text-right",""),a+=" text-right",o.value=a.trim(),o.dispatchEvent(new Event("change",{bubbles:!0})),!1;if("hashedit.text.alignCenter"==i)return o=document.querySelector('.hashedit-modal [data-model="node.class"]'),a=o.value,a=hashedit.replaceAll(a,"text-center",""),a=hashedit.replaceAll(a,"text-left",""),a=hashedit.replaceAll(a,"text-right",""),a+=" text-center",o.value=a.trim(),o.dispatchEvent(new Event("change",{bubbles:!0})),!1;if("hashedit.text.undo"==i)return document.execCommand("undo",!1,null),!1}},!1)})},showLinkDialog:function(){var e,t,n,i,r,s;hashedit.currLink=hashedit.getLinkFromSelection(),null!==hashedit.currLink&&(e=hashedit.currLink.getAttribute("id")||"",t=hashedit.currLink.getAttribute("class")||"",n=hashedit.currLink.getAttribute("href")||"",i=hashedit.currLink.getAttribute("target")||"",r=hashedit.currLink.getAttribute("title")||"",s=document.querySelector("#hashedit-link-settings"),s.setAttribute("visible",""),document.getElementById("hashedit-link-id").value=e,document.getElementById("hashedit-link-cssclass").value=t,document.getElementById("hashedit-link-href").value=n,document.getElementById("hashedit-link-target").value=i,document.getElementById("hashedit-link-title").value=r)},showImageDialog:function(){var e,t,n,i,r;null!==hashedit.current.node&&(e=hashedit.current.node.getAttribute("id")||"",t=hashedit.current.node.getAttribute("class")||"",n=hashedit.current.node.getAttribute("src")||"",i=hashedit.current.node.getAttribute("target")||"",r=document.querySelector("#hashedit-image-settings"),r.setAttribute("visible",""),document.getElementById("hashedit-image-id").value=e,document.getElementById("hashedit-image-cssclass").value=t,document.getElementById("hashedit-image-src").value=n,document.getElementById("hashedit-image-target").value=i)},executeFunctionByName:function(e,t){var n,i,r,s;for(i=[].slice.call(arguments).splice(2),r=e.split("."),s=r.pop(),n=0;n<r.length;n++)t=t[r[n]];return t[s].apply(this,i)},getSelectedText:function(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e},saveSelection:function(){var e,t,n,i;if(window.getSelection){if(n=window.getSelection(),n.getRangeAt&&n.rangeCount){for(e=[],i=n.rangeCount,t=0;i>t;t+=1)e.push(n.getRangeAt(t));return e}}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null},getLinkFromSelection:function(){var e,t,n,i,r;return e=null,document.selection?e=document.selection.createRange().parentElement():(t=window.getSelection(),t.rangeCount>0&&(e=t.getRangeAt(0).startContainer.parentNode)),null!==e&&"A"==e.tagName?e:window.getSelection&&(t=window.getSelection(),t.rangeCount>0)?(n=t.getRangeAt(0),i=document.createElement("DIV"),i.appendChild(n.cloneContents()),r=i.getElementsByTagName("A"),r.length>0?r[0]:null):null},restoreSelection:function(e){var t,n,i;if(e)if(window.getSelection)for(i=window.getSelection(),i.removeAllRanges(),n=e.length,t=0;n>t;t+=1)i.addRange(e[t]);else document.selection&&e.select&&e.select()},replaceAll:function(e,t,n){var i,r;for(i=e,r=i.indexOf(t);-1!=r;)i=i.replace(t,n),r=i.indexOf(t);return i},createTextStyle:function(e){var t,n,i,r,s,o,a;return t="",n=e.getAttribute("text-color")||"",i=e.getAttribute("text-size")||"",r=e.getAttribute("text-shadow-color")||"",s=e.getAttribute("text-shadow-horizontal")||"",o=e.getAttribute("text-shadow-horizontal")||"",a=e.getAttribute("text-shadow-blur")||"",""!==n&&(t+="color:"+n+";"),""!==i&&(t+="font-size:"+i+";"),""!==r&&(t+="text-shadow: "+s+" "+o+" "+a+" "+r+";"),t},getQueryStringByName:function(e){var t,n,i;return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),i=n.exec(window.location.href),null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},retrieveHTML:function(){return hashedit.mirror.documentElement.outerHTML},retrieveUpdateArray:function(){var e,t,n,i,r,s;for(i=hashedit.mirror.documentElement.querySelectorAll("[hashedit]"),n=[],e=0;e<i.length;e+=1){for(s=i[e].querySelectorAll("[data-ref]"),t=0;t<s.length;t+=1)s[t].removeAttribute("data-ref");r={selector:i[e].getAttribute("hashedit-selector"),html:i[e].innerHTML},n.push(r)}return n},removeMirrorElement:function(e){var t;t=hashedit.mirror.querySelector('[data-ref="'+e+'"]'),t.remove()},setMirrorHTML:function(e,t){var n;n=hashedit.mirror.querySelector('[data-ref="'+e+'"]'),n.innerHTML=t},setMirrorAttribute:function(e,t,n){var i;i=hashedit.mirror.querySelector('[data-ref="'+e+'"]'),i.setAttribute(t,n)},moveMirrorElement:function(e,t,n){console.log("ref="+e+" toRef="+t+" method="+n);var i,r,s;hashedit.debug===!0&&console.log("[hashedit.moveMirrorElement] ref="+e+" toref="+t+" method="+n),i=hashedit.mirror.querySelector('[data-ref="'+e+'"]'),r=hashedit.mirror.querySelector('[data-ref="'+t+'"]'),null!==r&&(s=r.parentNode,"before"==n?s.insertBefore(i,r):"append"==n&&r.appendChild(i))},insertMirrorElement:function(e,t,n,i){var r,s,o,a;hashedit.debug===!0&&console.log("[hashedit.insertMirrorElement] ref="+e+" toref="+t+" method="+n),r=document.createElement("div"),r.innerHTML=i,s=r.firstChild,s.setAttribute("data-ref",e),o=hashedit.mirror.querySelector('[data-ref="'+t+'"]'),a=o.parentNode,"before"==n?a.insertBefore(s,o):"append"==n&&o.appendChild(s)},setup:function(e){-1!=window.location.href.indexOf("#edit")&&hashedit.setupEditor(e)},setupEditor:function(e){console.log("Hashedit version: "+hashedit.version),hashedit.current.container=document.createElement("div"),hashedit.current.container.setAttribute("class","hashedit-container"),hashedit.current.container.setAttribute("id","hashedit-container"),null!==e.stylesheet&&(hashedit.stylesheet=e.stylesheet),document.body.appendChild(hashedit.current.container);var t=document.createElement("style");t.innerHTML="@import url("+hashedit.stylesheet+")",hashedit.current.container.appendChild(t),e.demo===!0?(hashedit.demo=!0,hashedit.init(),hashedit.setActive(),hashedit.setupSortable(e.sortable),hashedit.setupContentEditableEvents(),hashedit.setupMenu(e.path),hashedit.setupToast(),hashedit.setupDrawer(),hashedit.createMenu(e.path),hashedit.loadHTML(e.path)):fetch(hashedit.authUrl,{credentials:"include"}).then(function(t){if(200!==t.status)hashedit.showAuth();else{hashedit.init(),hashedit.setActive(),hashedit.setupSortable(e.sortable),hashedit.setupContentEditableEvents(),hashedit.setupMenu(e.path),hashedit.setupToast(),hashedit.setupDrawer(),hashedit.createMenu(e.path),hashedit.loadHTML(e.path);var n=new Event("hashedit.loaded");document.dispatchEvent(n)}})},collectionHas:function(e,t){var n,i;for(i=e.length,n=0;i>n;n+=1)if(e[n]==t)return!0;return!1},findParentBySelector:function(e,t){var n,i;for(n=document.querySelectorAll(t),i=e.parentNode;i&&!hashedit.collectionHas(n,i);)i=i.parentNode;return i},wrap:function(e,t){var n,i,r,s,o;for(t.length||(t=[t]),n=t.length-1;n>=0;n--)i=n>0?e.cloneNode(!0):e,r=t[n],s=r.parentNode,o=r.nextSibling,i.appendChild(r),o?s.insertBefore(i,o):s.appendChild(i)},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}}();